{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\game/assets\\Script\\game\\gameKeyControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\game","sourcesContent":["import { playerControl } from \"./playerControl\"\r\nimport { gameProtocol } from \"./gameProtocol\"\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class gameKeyControl extends cc.Component {\r\n\r\n    @property(playerControl)\r\n    playerControl: playerControl = null;\r\n\r\n    @property(cc.Node)\r\n    leftMoveBtnNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    rightMoveBtnNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    jumpBtnNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    shootBtnNode: cc.Node = null;\r\n\r\n\r\n    onLoad () {\r\n        this._initTouchEvent()\r\n    }\r\n\r\n    _initTouchEvent() {\r\n        const self = this;\r\n        self.leftMoveBtnNode.on(cc.Node.EventType.TOUCH_START, self.leftMove, self);\r\n        self.rightMoveBtnNode.on(cc.Node.EventType.TOUCH_START, self.rightMove, self);\r\n        self.jumpBtnNode.on(cc.Node.EventType.TOUCH_START, self.jump, self);\r\n        self.shootBtnNode.on(cc.Node.EventType.TOUCH_START, self.shoot, self);\r\n\r\n        self.leftMoveBtnNode.on(cc.Node.EventType.TOUCH_END, self._touchEndEvent, self);\r\n        self.rightMoveBtnNode.on(cc.Node.EventType.TOUCH_END, self._touchEndEvent, self);\r\n        self.jumpBtnNode.on(cc.Node.EventType.TOUCH_END, self._touchEndEvent, self);\r\n        self.shootBtnNode.on(cc.Node.EventType.TOUCH_END, self._touchEndEvent, self);\r\n        //self.node.on(cc.Node.EventType.TOUCH_MOVE, self._touchMoveEvent, self);\r\n        // self.node.on(cc.Node.EventType.TOUCH_END, self._touchEndEvent, self);\r\n        // self.node.on(cc.Node.EventType.TOUCH_CANCEL, self._touchEndEvent, self);\r\n      }\r\n\r\n      \r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    \r\n    leftMove(){\r\n        cc.log('leftMove')\r\n        this.playerControl._motionType=gameProtocol.playerControl.motionType.LEFT;\r\n    }\r\n\r\n    rightMove(){\r\n        cc.log('rightMove')\r\n        this.playerControl._motionType=gameProtocol.playerControl.motionType.RIGHT;\r\n    }\r\n\r\n    jump(){\r\n        cc.log('jump')\r\n        this.playerControl._motionType=gameProtocol.playerControl.motionType.JUMP;\r\n    }\r\n\r\n    shoot(){\r\n        cc.log('jump')\r\n        this.playerControl._motionType=gameProtocol.playerControl.motionType.SHOOT;\r\n        cc.systemEvent.emit(gameProtocol.event.playerShooting,this);\r\n    }\r\n\r\n    _touchEndEvent(){\r\n        cc.log('stop')\r\n        this.playerControl._motionType=gameProtocol.playerControl.motionType.STOP;\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}